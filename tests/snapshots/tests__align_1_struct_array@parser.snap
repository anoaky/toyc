---
source: tests/tests.rs
expression: ast
snapshot_kind: text
---
Program([
  Stmt(Decl(StructTypeDecl(Struct("foo"), "foo", [
    VarDecl(Array(7, Char), "a", None),
  ]))),
  Stmt(Decl(FunDefn(
    decl: Stmt(Decl(FunDecl(Void, "populate", [
      VarDecl(Array(7, Char), "a", None),
    ]))),
    block: Block(
      stmts: [
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(0))), Literal(Char('a')))),
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(1))), Literal(Char('b')))),
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(2))), Literal(Char('c')))),
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(3))), Literal(Char('d')))),
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(4))), Literal(Char('e')))),
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(5))), Literal(Char('f')))),
        ExprStmt(Assign(ArrayAccessExpr(VarExpr("a"), Literal(Int(6))), Literal(Char('0')))),
      ],
    ),
  ))),
  Stmt(Decl(FunDefn(
    decl: Stmt(Decl(FunDecl(Void, "main", []))),
    block: Block(
      stmts: [
        Decl(VarDecl(Struct("foo"), "bar", None)),
        ExprStmt(FunCallExpr(VarExpr("populate"), [
          FieldAccessExpr(VarExpr("bar"), "a"),
        ])),
        ExprStmt(FunCallExpr(VarExpr("print_s"), [
          TypecastExpr(Pointer(Char), FieldAccessExpr(VarExpr("bar"), "a")),
        ])),
      ],
    ),
  ))),
])
